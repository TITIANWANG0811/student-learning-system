#!/bin/bash

# åˆä¸­ç”Ÿå­¦ä¹ ç®¡ç†ç³»ç»Ÿå¯åŠ¨è„šæœ¬ï¼ˆå…¼å®¹æ€§è„šæœ¬ï¼‰

echo "ğŸš€ å¯åŠ¨åˆä¸­ç”Ÿå­¦ä¹ ç®¡ç†ç³»ç»Ÿ..."

# æ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®çš„ç›®å½•
if [ ! -f "backend/main.py" ] || [ ! -f "frontend/package.json" ]; then
    echo "âŒ è¯·åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæ­¤è„šæœ¬"
    exit 1
fi

echo "â„¹ï¸  æ­¤è„šæœ¬å·²å‡çº§ï¼Œå»ºè®®ä½¿ç”¨æ–°çš„ç®¡ç†è„šæœ¬ï¼š"
echo ""
echo "   ./manage.sh        - äº¤äº’å¼ç®¡ç†å·¥å…·"
echo "   ./start-all.sh     - å¯åŠ¨æ‰€æœ‰æœåŠ¡"
echo "   ./start-backend.sh - åªå¯åŠ¨åç«¯æœåŠ¡"
echo ""
echo "æ˜¯å¦ç»§ç»­ä½¿ç”¨æ—§æ–¹å¼å¯åŠ¨ï¼Ÿ(y/N)"
read -r response

if [[ "$response" =~ ^[Yy]$ ]]; then
    echo "ğŸ”„ ä½¿ç”¨æ—§æ–¹å¼å¯åŠ¨åç«¯æœåŠ¡..."
    ./start-backend.sh
else
    echo "ğŸ¯ å¯åŠ¨ç®¡ç†å·¥å…·..."
    ./manage.sh
fi
